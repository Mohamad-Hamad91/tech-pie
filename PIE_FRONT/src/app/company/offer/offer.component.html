<p-toast position="bottom-right"></p-toast>
<app-navbar></app-navbar>

<div class="offer-wrapper">
    <section class="offer-section">
        <main class="col-xs-12 col-lg-6 offset-lg-3 offer-content">
            <div class="form-wrapper">
                <div class="center-image-wrapper">
                    <img class="center-image" src="assets/imgs/offer/contract.svg" alt="" srcset="">
                </div>
                <h2>Compose an Offer</h2>
                <form class="offer-form" (ngSubmit)="sendOffer()">
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <div class="offer-input-wrapper">
                                <input name="email" autocapitalize="none" placeholder="E-mail" class="offer-input"
                                    [(ngModel)]="offer.compEmail">
                            </div>
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="phone" autocapitalize="none" placeholder="Mobile number"
                                        class="offer-input" [(ngModel)]="offer.compPhone">
                                </div>
                            </div>
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="name" autocapitalize="none" placeholder="Name" class="offer-input"
                                        [(ngModel)]="offer.compName">
                                </div>
                            </div>
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="minPrice" autocapitalize="none" placeholder="Min Price"
                                        class="offer-input" [(ngModel)]="offer.minPrice">
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="position" autocapitalize="none" placeholder="Position"
                                        class="offer-input" [(ngModel)]="offer.position">
                                </div>
                            </div>
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="workType" autocapitalize="none" placeholder="Work Type"
                                        class="offer-input" [(ngModel)]="offer.workType">
                                </div>
                            </div>
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="workPlace" autocapitalize="none" placeholder="Work Place"
                                        class="offer-input" [(ngModel)]="offer.workPlace">
                                </div>
                            </div>
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <input name="maxPrice" autocapitalize="none" placeholder="Max Price"
                                        class="offer-input" [(ngModel)]="offer.maxPrice">
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="offer-input-wrapper">
                                <div class="input-group mb-3">
                                    <textarea name="message" autocapitalize="none" placeholder="Message"
                                        class="offer-input" [(ngModel)]="offer.message"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <ul>
                                <li *ngFor="let f of offer.files; index as i"> <a [href]="f.url"> {{f.originalname}} -
                                        {{f.size}}</a>: uploaded <span style="color: red;" (click)="removeFile(f._id, i)" class="pi pi-times"></span></li>
                            </ul>
                            <p-fileUpload mode="advanced" name="demo" customUpload="true"
                                (uploadHandler)="onAvatarUpload($event)" [auto]="true" chooseLabel="Choose"
                                chooseIcon=" pi pi-upload">
                                <ng-template pTemplate="toolbar">
                                    <div>you can upload another file,After File uplaoding finishes.</div>
                                </ng-template>
                                <ng-template let-file pTemplate="file">
                                    <div class="progress" [hidden]="progress < 1">
                                        <div #progressElm class="progress-bar progress-bar-striped">
                                        </div>
                                        <span class="progress-bar-label">{{progress}}%</span>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="content" let-files>
                                    <div>Drag and drop file to here, or choose from the button above.</div>
                                </ng-template>
                            </p-fileUpload>

                        </div>
                        <div class="col-12">
                            <div class="offer-input-wrapper">
                                <button type="submit" class="pi-btn" [disabled]="sent==true">offer</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </main>
    </section>
</div>

<app-footer></app-footer>